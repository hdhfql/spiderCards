{"version":3,"sources":["webpack:///src/components/card/card.vue","webpack:///./src/components/card/card.vue?e477","webpack:///./src/components/card/card.vue","webpack:///src/components/fixed-box/fixedBox.vue","webpack:///./src/components/fixed-box/fixedBox.vue?63e6","webpack:///./src/components/fixed-box/fixedBox.vue","webpack:///src/components/deal-card/dealCard.vue","webpack:///./src/components/deal-card/dealCard.vue?46da","webpack:///./src/components/deal-card/dealCard.vue","webpack:///./src/common/js/js.js","webpack:///src/components/done-card/doneCard.vue","webpack:///./src/components/done-card/doneCard.vue?bb9b","webpack:///./src/components/done-card/doneCard.vue","webpack:///src/components/content-card/contentCard.vue","webpack:///./src/components/content-card/contentCard.vue?488b","webpack:///./src/components/content-card/contentCard.vue","webpack:///src/components/content-right/contentRight.vue","webpack:///./src/components/content-right/contentRight.vue?165e","webpack:///./src/components/content-right/contentRight.vue","webpack:///src/App.vue","webpack:///./src/App.vue?93c1","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["card","name","props","viewport","type","Object","action","lightShow","Boolean","default","data","cover","color","colorDirection","index","computed","rcover","this","methods","changeColor","i","length","_i","text","$refs","content","querySelector","circle","querySelectorAll","style","backgroundColor","border","mounted","perspective","cWidth","width","height","lineHeight","offsetHeight","borderRadius","offsetWidth","marginLeft","marginTop","cshow","_i2","textshow","fontSize","fontWeight","pshow","mWidth","margin","updated","watch","defineProperty_default","action.turn","handler","turn","immediate","deep","_this","setInterval","card_card","render","_vm","_h","$createElement","_c","_self","ref","staticClass","class","textShow","pShow","_v","_s","value","cShow","staticRenderFns","components_card_card","__webpack_require__","normalizeComponent","ssrContext","fixedBox","box","fixed_box_fixedBox","components_fixed_box_fixedBox","fixedBox_normalizeComponent","dealCard","start","unfold","dealListNum","Number","components","zero","deal","e","n","$emit","currentTarget","item","left","deal_card_dealCard","_l","key","on","click","$event","stopPropagation","attrs","_e","components_deal_card_dealCard","dealCard_normalizeComponent","cardsPlace","oldEl","oldIndex","newEl","newIndex","oldBox","newBox","initialPoint","offsetLeft","top","offsetTop","setTimeout","getEl","lists","count","undefined","list","Math","floor","getLastItemValue","parseInt","doneCard","step","time","doneCardData","boxShow","pushDoneCard","doneCount","push","doneTop","pushLight","fix","right","_this2","elLeft","elTop","zIndex","transform","doneCardPlace","doneLeft","score","confirm","location","reload","_this3","showBox","clearInterval","done_card_doneCard","listIndex","components_done_card_doneCard","doneCard_normalizeComponent","startCount","dealCount","contentCard","momentCard","over","dealStart","typr","listCards","listPlace","moveTime","x0","y0","x1","y1","moveCard","boxZero","stepCount","pushCard","obj","_obj","move","itemArr","console","log","getMoveTime","event","window","returnValue","preventDefault","_ref","clientX","clientY","cardsList","ifcover","document","onmousemove","_ref2","X","Y","_ref3","transition","onmouseup","placeTrue","aimPoint","_loop","_count","_pushMoveCard","itemValue","splice","$nextTick","elList","Date","_count2","_oldIndex","_pushMoveCard2","lastItemValue","_count3","_pushMoveCard3","_count4","_oldIndex2","_pushMoveCard4","pushMoveCard","_loop2","_i3","_loop3","_loop4","j","ifDone","_item","pushDone","doneCardLeft","doneCardTop","_watch","_getEl","_getEl2","slicedToArray_default","_getEl3","_getEl4","_oldEl","_newEl","_this4","startTurn","clearTimeout","moveCard.time","_this5","content_card_contentCard","mousedown","components_content_card_contentCard","contentCard_normalizeComponent","contentRight","getTime","getStep","crWidth","windowWidth","marginBottom","timeGo","_timeGo","content_right_contentRight","allCount","App","contentRight_normalizeComponent","cardsData","dealListCardsData","created","cHeight","innerHeight","documentElement","clientHeight","body","innerWidth","clientWidth","start_card","num","round","random","alert","getElementById","hw","marginRight","dealCardsStart","_num","listCount","donePush","gameWin","gameOver","pushStep","pushTime","selectortype_template_index_0_src_App","id","done","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.0e0e5020aa211abd003b.js","sourcesContent":["<template>\r\n  <div class=\"card-content\" ref=\"content\">\r\n    <div class=\"card\" :class=\"{'textShow': !rcover}\" ref=\"card\">\r\n      <p class=\"text\" :class=\"{'pShow': !rcover}\" >{{action.value}}</p>\r\n      <div class=\"circle\" :class=\"{'cShow': !rcover}\"></div>\r\n      <div class=\"circle one\" :class=\"{'cShow': !rcover}\"></div>\r\n      <div class=\"circle two\" :class=\"{'cShow': !rcover}\"></div>\r\n      <div class=\"circle three\" :class=\"{'cShow': !rcover}\"></div>\r\n      {{action.value}}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'cards',\r\n  props: {\r\n    viewport: {type: Object},\r\n    action: {type: Object},\r\n    lightShow: {type: Boolean, default: false}\r\n  },\r\n  data () {\r\n    return {\r\n      cover: true,// 默认每张牌盖上\r\n      color: [111,17,111],\r\n      colorDirection: ['+','+','+'],\r\n      index: ''\r\n    }\r\n  },\r\n  computed: {\r\n    rcover () {\r\n      return this.cover;\r\n    }\r\n  },\r\n  methods: {\r\n    changeColor () {// 变换颜色\r\n      for (let i = 0; i < this.color.length; i++) {\r\n        if (this.color[i] <= 0) {\r\n          this.colorDirection[i] = '+';\r\n        }\r\n        if (this.color[i] >= 255) {\r\n          this.colorDirection[i] = '-';\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < this.colorDirection.length; i++) {\r\n        switch (this.colorDirection[i]) {\r\n          case '+': this.color[i] += i+ 1;break;\r\n          case '-': this.color[i] -= i + 1;break;\r\n        }\r\n      }\r\n\r\n      let text = this.$refs.content.querySelector(\".text\");\r\n      let circle = this.$refs.content.querySelectorAll(\".circle\");\r\n\r\n      this.$refs.card.style.backgroundColor = `rgb(${255-this.color[0]},${255-this.color[1]},${255-this.color[2]})`;\r\n      text.style.color = `rgb(${this.color[2]},${this.color[2]},${this.color[2]})`;\r\n      circle[0].style.border = `2px solid rgb(${this.color[2]},${this.color[2]},${this.color[2]})`;\r\n      circle[1].style.border = `2px solid rgb(${this.color[0]},${this.color[1]},${this.color[2]})`;\r\n      circle[2].style.border = `2px solid rgb(${this.color[1]},${this.color[2]},${this.color[0]})`;\r\n      circle[3].style.border = `2px solid rgb(${this.color[2]},${this.color[1]},${this.color[0]})`;\r\n     \r\n    }\r\n  },\r\n  mounted () {// 根据视口宽度设置牌的宽高、花纹大小、文字大小、间距大小，\r\n    let card = this.$refs.card;\r\n\r\n    this.$refs.content.style.perspective = this.viewport.cWidth * 0.1 + 'px';\r\n\r\n    this.$refs.card.style.width = this.viewport.cWidth * 0.08 + 'px';\r\n    this.$refs.card.style.height = this.viewport.cWidth * 0.08 / 0.618 + 'px';\r\n    this.$refs.card.style.lineHeight = card.offsetHeight + 'px';\r\n    this.$refs.card.style.borderRadius = card.offsetWidth * 0.06 + 'px';\r\n\r\n    let circle = this.$refs.content.querySelectorAll(\".circle\");\r\n    for (let i = 0; i < circle.length; i++) {\r\n      circle[i].style.height = card.offsetWidth * 0.8 + 'px';\r\n      circle[i].style.width = card.offsetWidth * 0.3 + 'px';\r\n      circle[i].style.marginLeft = `-${circle[i].offsetWidth / 2}px`;\r\n      circle[i].style.marginTop = `-${circle[i].offsetHeight / 2}px`;\r\n    }\r\n    \r\n    let cshow = this.$refs.content.querySelectorAll(\".cShow\");\r\n    for (let i = 0; i < cshow.length; i++) {\r\n      if (cshow) {\r\n        cshow[i].style.border = '1px solid rgb(7,17,27)';\r\n      }\r\n    }\r\n\r\n    let textshow = this.$refs.content.querySelector(\".textShow\");\r\n    if (textshow) {\r\n      textshow.style.fontSize = card.offsetWidth * 0.2 + 'px';\r\n      textshow.style.fontWeight = '700';\r\n    }\r\n\r\n    let pshow = this.$refs.content.querySelector(\".pShow\");\r\n    let mWidth = card.offsetWidth * 0.05;\r\n    if (pshow) {\r\n      pshow.style.fontSize = 2.6 * mWidth + 'px';\r\n      pshow.style.margin = `${2 * mWidth}px ${mWidth}px`;\r\n      pshow.style.lineHeight = mWidth + 'px';\r\n    }\r\n  },\r\n  updated () {// 每次翻转都会马上更新文字花纹等\r\n    let card = this.$refs.card;\r\n   \r\n    let textshow = this.$refs.content.querySelector(\".textShow\");\r\n    if (textshow) {\r\n      textshow.style.fontSize = card.offsetWidth * 0.2 + 'px';\r\n      textshow.style.fontWeight = '700';\r\n    }\r\n\r\n    let pshow = this.$refs.content.querySelector(\".pShow\");\r\n    let mWidth = card.offsetWidth * 0.05;\r\n    if (pshow) {\r\n      pshow.style.fontSize = 2.6 * mWidth + 'px';\r\n      pshow.style.margin = `${2 * mWidth}px ${mWidth}px`;\r\n      pshow.style.lineHeight = mWidth + 'px';\r\n    }\r\n\r\n    let cshow = this.$refs.content.querySelectorAll(\".cShow\");\r\n    for (let i = 0; i < cshow.length; i++) {\r\n      if (cshow) {\r\n        cshow[i].style.border = '1px solid rgb(7,17,27)';\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'action.turn': {// 监听是否默认翻转\r\n      handler (turn) {\r\n        if (turn) {\r\n          this.cover = false;\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n    immediate: true,\r\n    lightShow: function () {// 花纹文字颜色变换\r\n      if (this.lightShow) {\r\n        let card = this.$refs.content.querySelector(\".card\");\r\n        card.style.color = 'rgb(255,255,255)';\r\n        setInterval(() => {\r\n          this.changeColor();\r\n        }, 50);// 0.05秒变换一种颜色，但会集满越多复牌越卡\r\n      }\r\n    },\r\n    immediate: true\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .card-content\r\n    perspective-origin: 50% 50%\r\n    font-size: 0\r\n    .card\r\n      position: relative\r\n      display: block\r\n      vertical-align: top\r\n      text-align: center\r\n      background-color: skyblue\r\n      border: 1px solid rgb(7,17,27)\r\n      border-radius: 5px\r\n      transform: rotateY(180deg)\r\n      transition: transform 1s\r\n      &.textShow\r\n        background-color: rgb(144,238,144)\r\n        transform: rotateY(0deg)\r\n      .text\r\n        position: absolute\r\n        left: 0\r\n        top: 0\r\n        &.pShow\r\n          position: absolute\r\n          left: 0\r\n          top: 0\r\n      .circle\r\n        position: absolute\r\n        left: 50%\r\n        top: 50%\r\n        border: none\r\n        &.cShow\r\n          border-radius: 50%\r\n        &.one\r\n          transform: rotateZ(45deg)\r\n        &.two\r\n          transform: rotateZ(90deg)\r\n        &.three\r\n          transform: rotateZ(135deg)\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/card/card.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"content\",staticClass:\"card-content\"},[_c('div',{ref:\"card\",staticClass:\"card\",class:{'textShow': !_vm.rcover}},[_c('p',{staticClass:\"text\",class:{'pShow': !_vm.rcover}},[_vm._v(_vm._s(_vm.action.value))]),_vm._v(\" \"),_c('div',{staticClass:\"circle\",class:{'cShow': !_vm.rcover}}),_vm._v(\" \"),_c('div',{staticClass:\"circle one\",class:{'cShow': !_vm.rcover}}),_vm._v(\" \"),_c('div',{staticClass:\"circle two\",class:{'cShow': !_vm.rcover}}),_vm._v(\" \"),_c('div',{staticClass:\"circle three\",class:{'cShow': !_vm.rcover}}),_vm._v(\"\\n    \"+_vm._s(_vm.action.value)+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f096119c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/card/card.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f096119c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./card.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./card.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./card.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f096119c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./card.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f096119c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/card/card.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"fixed-box\" ref=\"fixedBox\"></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'fixed-box',\r\n  props: {\r\n    viewport: {type: Object}\r\n  },\r\n  mounted () {\r\n    let box = this.$refs.fixedBox;// 根据视口宽度设置牌的宽高，\r\n    box.style.width = this.viewport.cWidth * 0.08 + 'px';\r\n    box.style.height = this.viewport.cWidth * 0.08 / 0.618 + 'px';\r\n    box.style.lineHeight = box.offsetHeight + 'px';\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  .fixed-box\r\n    display: inline-block\r\n    border-radius: 8px\r\n    border: 1px solid rgba(7,17,27,0.1)\r\n    background-color: rgba(250,250,250,0.5)\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/fixed-box/fixedBox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"fixedBox\",staticClass:\"fixed-box\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b3ed89d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/fixed-box/fixedBox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b3ed89d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./fixedBox.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fixedBox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./fixedBox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b3ed89d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./fixedBox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/fixed-box/fixedBox.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"deal-card\" ref=\"dealCard\">\r\n    <li class=\"deal-item\" v-for=\"(item, index) in dealListNum\" :key=\"index\" @click.stop=\"deal($event, index)\">\r\n      <card class=\"card\" :viewport=\"viewport\" :action=\"{value: ''}\" />\r\n    </li>\r\n    <fixedBox :viewport=\"viewport\" v-if=\"zero\" />\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport card from '../card/card';\r\nimport fixedBox from '../fixed-box/fixedBox';\r\nexport default {\r\n  name: 'deal-card',\r\n  props: {\r\n    viewport: {type: Object},\r\n    start: {type: Boolean},\r\n    unfold: {type: Boolean},\r\n    dealListNum: {type: Number}\r\n  },\r\n  components: {\r\n    card,\r\n    fixedBox\r\n  },\r\n  data () {\r\n    return {\r\n      zero: false// 发牌处牌的张数为0，则zero为true，利用watch监听\r\n    }\r\n  },\r\n  methods: {// 点击发牌处的函数，向父组件传递被点击的元素并触发deal事件\r\n    deal (e, n) {\r\n      if (this.start) {\r\n        let item = this.$refs.dealCard.querySelectorAll(\".deal-item\");\r\n        if (n == item.length - 1) {\r\n          this.$emit('deal', e.currentTarget);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    unfold: function () {// 初始化发牌处的位置\r\n      let item = this.$refs.dealCard.querySelectorAll(\".deal-item\");\r\n      if (this.unfold) {\r\n        for (let i = 0; i < item.length; i++) {\r\n          item[i].style.left = this.viewport.cWidth * 0.04 * i * 0.618 + 'px';\r\n        }\r\n      }\r\n    },\r\n    dealListNum: function () {\r\n      if (this.dealListNum == 0) {\r\n        this.zero = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  .deal-card\r\n    position: relative\r\n    .deal-item\r\n      position: absolute\r\n      left: 0\r\n      top: 0\r\n      transition: all 2s\r\n      &.zero\r\n        background-color: rgb(253,253,255)\r\n        border-radus: 1px solid rgba(7,17,27,0.2)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/deal-card/dealCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{ref:\"dealCard\",staticClass:\"deal-card\"},[_vm._l((_vm.dealListNum),function(item,index){return _c('li',{key:index,staticClass:\"deal-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deal($event, index)}}},[_c('card',{staticClass:\"card\",attrs:{\"viewport\":_vm.viewport,\"action\":{value: ''}}})],1)}),_vm._v(\" \"),(_vm.zero)?_c('fixedBox',{attrs:{\"viewport\":_vm.viewport}}):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-84c9de8c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/deal-card/dealCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-84c9de8c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./dealCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dealCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dealCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84c9de8c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dealCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-84c9de8c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/deal-card/dealCard.vue\n// module id = null\n// module chunks = ","function cardsPlace (oldEl, oldIndex, newEl, newIndex, n, oldBox, newBox, initialPoint, start) {\r\n  if (!start) {// 初始发牌\r\n    if (n == 0) {\r\n      newEl.style.left = '0px';\r\n      newEl.style.top = '0px';\r\n    } else {\r\n      oldEl.style.left = oldBox.offsetLeft + 'px';\r\n      oldEl.style.top = oldBox.offsetTop + oldEl.offsetWidth * oldIndex * 0.3 + 'px';\r\n\r\n      newEl.style.left = initialPoint.offsetLeft + 'px';\r\n      newEl.style.top = initialPoint.offsetTop + 'px';\r\n      if (n == 53) {\r\n        setTimeout(() => {\r\n          newEl.style.left = newBox.offsetLeft + 'px';\r\n          newEl.style.top = newBox.offsetTop + newEl.offsetWidth * newIndex * 0.3 + 'px';\r\n        }, 20);\r\n        \r\n      }\r\n    }\r\n  } else {// 游戏时发牌\r\n    if (n == 0) {\r\n      newEl.style.left = initialPoint.offsetLeft + 'px';// 被点击的发牌元素的位置，初始化发牌时牌的动画的起始位置\r\n      newEl.style.top = initialPoint.offsetTop + 'px';\r\n    } else {\r\n      oldEl.style.left = oldBox.offsetLeft + 'px';\r\n      oldEl.style.top = oldBox.offsetTop + oldEl.offsetWidth * oldIndex * 0.3 + 'px';// 设置发牌时前一张牌的动画最后位置\r\n\r\n      newEl.style.left = initialPoint.offsetLeft + 'px';\r\n      newEl.style.top = initialPoint.offsetTop + 'px';\r\n      if (n == 9) {\r\n        setTimeout(() => {\r\n          newEl.style.left = newBox.offsetLeft + 'px';// 最后一张牌，设置动画最后位置\r\n          newEl.style.top = newBox.offsetTop + newEl.offsetWidth * newIndex * 0.3 + 'px';\r\n        }, 20);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction moveCardPlace (newEl, box, boxZero) {\r\n  if (boxZero) {// 表示放置该列牌的第一张，以该列的fixedBox为标准\r\n    newEl.style.left = box.offsetLeft + 'px';\r\n    newEl.style.top = box.offsetTop + 'px';\r\n  } else {// 非第一张\r\n    newEl.style.left = box.offsetLeft + 'px';\r\n    newEl.style.top = box.offsetTop + newEl.offsetWidth * 0.3 + 'px';\r\n  }\r\n}\r\n\r\nfunction doneCardPlace (item, elLeft, elTop, box) {// 集满牌后放置牌的函数\r\n  if (item.length == 1) {\r\n    item[0].style.zIndex = '100';\r\n    item[0].style.left = elLeft + 'px';\r\n    item[0].style.top = elTop + 'px';\r\n  } else {\r\n    item[item.length-2].style.left = box.offsetLeft + 'px';\r\n    item[item.length-2].style.top = box.offsetTop + 'px';\r\n    item[item.length-2].style.transform = 'rotateZ(360deg)';\r\n\r\n    item[item.length-1].style.zIndex = '100';\r\n    item[item.length-1].style.left = elLeft + 'px';\r\n    item[item.length-1].style.top = elTop + 'px';\r\n\r\n    if (item.length == 13) {\r\n      setTimeout(() => {\r\n        item[item.length-1].style.left = box.offsetLeft + 'px';\r\n        item[item.length-1].style.top = box.offsetTop + 'px';\r\n        item[item.length-1].style.transform = 'rotateZ(360deg)';\r\n  }, 20)\r\n    }\r\n  }\r\n}\r\n\r\nfunction getMoveTime (list, index) {// 判断被点击的牌是否可移动\r\n  let itemArr = [];\r\n  for (let i = index; i < list.length; i++) {\r\n    if (list[i].value == 'A') {\r\n      itemArr.push(1);\r\n    } else if (list[i].value == 'J') {\r\n      itemArr.push(11);\r\n    } else if (list[i].value == 'Q') {\r\n      itemArr.push(12);\r\n    } else if (list[i].value == 'K') {\r\n      itemArr.push(13);\r\n    } else {\r\n      itemArr.push(parseInt(list[i].value));\r\n    }\r\n  }\r\n  console.log(itemArr[0]);// 作弊用的\r\n  for (let i = 0; i < itemArr.length - 1; i++) {\r\n    if (itemArr.length == 1) {\r\n      break;\r\n    }\r\n    if (itemArr[i] != itemArr[i+1] + 1) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction getEl (lists, count) {// 拿到发牌时牌与前一张牌的索引和设置位置的必须数据的函数\r\n  let oldEl, newEl, oldIndex, newIndex;\r\n  if (count == 0) {\r\n    oldEl = undefined;// count为0即发第一张牌，不存在前一张牌\r\n  } else {\r\n    let list = lists[(count - 1) % 10].querySelectorAll(\".card-item\");\r\n    oldIndex = Math.floor((count - 1) / 10);// 初始发牌时前一张牌的索引\r\n    if (list.length != oldIndex + 1) {// 游戏时发牌时前一张牌的索引\r\n      oldIndex = oldIndex + list.length - 1;\r\n    }\r\n    oldEl = list[oldIndex];\r\n  }\r\n  let list = lists[count % 10].querySelectorAll(\".card-item\");\r\n  newIndex = Math.floor(count / 10);\r\n  if (list.length != newIndex + 1) {\r\n    newIndex = newIndex + list.length - 1;\r\n  }\r\n  newEl = list[newIndex];\r\n  return [oldEl, newEl, oldIndex, newIndex]\r\n}\r\n\r\nfunction getLastItemValue (item) {// 返回数字\r\n  if (item == 'A') {\r\n    return 1;\r\n  } else if (item == 'J') {\r\n    return 11;\r\n  } else if (item == 'Q') {\r\n    return 12;\r\n  } else if (item == 'K') {\r\n    return 13;\r\n  } else {\r\n    return parseInt(item);\r\n  }\r\n}\r\n\r\nfunction ifDone (item, index, length) {// 判断是否集满一副牌\r\n  if (length - index < 13) {\r\n    return false;\r\n  } else {\r\n    for (let i = index; i < index + 12; i++) {\r\n      if (getLastItemValue(item[i].value) != getLastItemValue(item[i+1].value) + 1) {\r\n        return false;\r\n      } else {\r\n        continue;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport {\r\n  cardsPlace,\r\n  getEl,\r\n  getMoveTime,\r\n  getLastItemValue,\r\n  moveCardPlace,\r\n  ifDone,\r\n  doneCardPlace\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/js.js","<template>\r\n  <ul class=\"doneCard\" ref=\"doneCard\">\r\n    <li class=\"done-list\" v-for=\"(list, listIndex) in 8\" :key=\"listIndex\">\r\n      <div class=\"fix\"></div>\r\n      <transition name=\"box\">\r\n        <fixedBox class=\"doneBox\" :viewport=\"viewport\" v-if=\"boxShow[listIndex]\" />\r\n      </transition>\r\n      <ul>\r\n        <li class=\"done-item\" v-for=\"(item, index) in pushDoneCard[list-1]\" :key=\"index\">\r\n          <card :viewport=\"viewport\" :action=\"item\" :lightShow=\"pushLight[list-1]\" />\r\n        </li>\r\n      </ul>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport {doneCardPlace} from '../../common/js/js';\r\nimport fixedBox from '../fixed-box/fixedBox';\r\nimport card from '../card/card';\r\nexport default {\r\n  name: 'doneCard',\r\n  components: {\r\n    fixedBox,\r\n    card\r\n  },\r\n  props: {\r\n    viewport: {type: Object},\r\n    start: {type: Boolean, default: false},\r\n    doneCard: {type: Object},\r\n    step: {type: Number},\r\n    time: {type: Number}\r\n  },\r\n  data () {\r\n    return {\r\n      doneCardData: [[],[],[],[],[],[],[],[]],\r\n      boxShow: [],\r\n      index: 0,// 让computed运行的作用\r\n      lightShow: []\r\n    }\r\n  },\r\n  computed: {\r\n    pushDoneCard () {\r\n      if (this.start && this.doneCard.value != '???') {// 排除掉第一次默认传进来的值\r\n        this.doneCardData[this.doneCard.doneCount].push(this.doneCard);// doneCount正好对应索引\r\n        this.index = this.doneCard.doneTop;\r\n      }\r\n      return this.doneCardData;\r\n    },\r\n    pushLight () {\r\n      if (this.doneCardData[this.doneCard.doneCount].length == 12) {// 13的话会持续触发，所以退一位，延迟定时器弥补时间差\r\n        setTimeout(() => {\r\n          this.lightShow.push(true);\r\n        }, 900);// 所有的牌动画都结束后开始变色\r\n      }\r\n      return this.lightShow;\r\n    }\r\n  },\r\n  mounted () {\r\n    let fix = this.$refs.doneCard.querySelectorAll(\".fix\");\r\n    let box = this.$refs.doneCard.querySelectorAll(\".doneBox\");\r\n\r\n    for (let i = 0; i < fix.length; i++) {\r\n      fix[i].style.width = this.viewport.cWidth * 0.08 + 6 + 'px';// 防止脱离文档流\r\n    }\r\n\r\n    for (let i = 0; i < box.length; i++) {\r\n      box[i].style.right = fix[0].offsetWidth * (7-i) + 4 * (8-i) + 'px';\r\n    }\r\n    \r\n  },\r\n  watch: {\r\n    doneCardData: function () {\r\n      if (this.start) {\r\n        let item = this.$refs.doneCard.querySelectorAll(\".done-list\")[this.doneCard.doneCount].querySelectorAll(\".done-item\");\r\n        let box = this.$refs.doneCard.querySelectorAll(\".doneBox\")[this.doneCard.doneCount];\r\n        doneCardPlace(item, this.doneCard.doneLeft, this.doneCard.doneTop, box);\r\n      }\r\n      if (this.doneCardData[7].length == 13) {\r\n        setTimeout(() => {\r\n          this.$emit('gameWin');\r\n          let score = (500 - this.time) * 2 + (300 - this.step * 2);\r\n          let again = confirm(`恭喜！你已顺利通关！ 你的分数是${score}分,再来一局吧！`);\r\n          if (again) {\r\n            location.reload();\r\n          }\r\n        }, 1000);// 1秒让最后的动画结束后弹窗\r\n      }\r\n    },\r\n    deep: true,\r\n    start: function () {\r\n      if (this.start) {\r\n        let count = 0;\r\n        let showBox = setInterval(() => {\r\n          this.boxShow.push(true);\r\n          if (count == 7) {\r\n            clearInterval(showBox);\r\n          }\r\n          count++;\r\n        }, 250);// 每0.25秒浮上一个框\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  .doneCard\r\n    text-align: right\r\n    .done-list\r\n      display: inline-block\r\n      .fix\r\n        height: 0\r\n        content: ''\r\n        display: block\r\n      .box-enter, .box-leave-to\r\n        transform: translateY(40px)\r\n        opacity: 0.1\r\n      .box-enter-to, .box-leave\r\n        transform: translateY(0)\r\n        opacity: 1\r\n      .box-enter-active, .box-leave-active\r\n        transition: all 1s\r\n      .doneBox\r\n        position: absolute\r\n        display: block\r\n        z-index: -1\r\n        top: 0\r\n      .done-item\r\n        position: absolute\r\n        display: block\r\n        transition: all 0.8s ease\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/done-card/doneCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{ref:\"doneCard\",staticClass:\"doneCard\"},_vm._l((8),function(list,listIndex){return _c('li',{key:listIndex,staticClass:\"done-list\"},[_c('div',{staticClass:\"fix\"}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"box\"}},[(_vm.boxShow[listIndex])?_c('fixedBox',{staticClass:\"doneBox\",attrs:{\"viewport\":_vm.viewport}}):_vm._e()],1),_vm._v(\" \"),_c('ul',_vm._l((_vm.pushDoneCard[list-1]),function(item,index){return _c('li',{key:index,staticClass:\"done-item\"},[_c('card',{attrs:{\"viewport\":_vm.viewport,\"action\":item,\"lightShow\":_vm.pushLight[list-1]}})],1)}),0)],1)}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-850fadb0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/done-card/doneCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-850fadb0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./doneCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./doneCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./doneCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-850fadb0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./doneCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-850fadb0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/done-card/doneCard.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"content-wrapper\" ref=\"content\">\r\n    <li class=\"card-list\" v-for=\"(list, index) in 10\" :key=\"index\">\r\n      <fixedBox class=\"contentBox\" :viewport=\"viewport\" />\r\n      <ul>\r\n        <li v-for=\"(item, index) in pushCard[list-1]\" :key=\"index\"\r\n          class=\"card-item\"\r\n          @mousedown.stop=\"move(index, pushCard[list-1], list-1)\"\r\n        >\r\n          <card :viewport=\"viewport\" :action=\"item\" :lightShow=\"lightShow\" />\r\n        </li>\r\n      </ul>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport card from '../card/card';\r\nimport { cardsPlace, getEl, getMoveTime, getLastItemValue, moveCardPlace, ifDone } from '../../common/js/js';\r\nimport fixedBox from '../fixed-box/fixedBox';\r\nlet startCount = -1;// 初始发牌索引\r\nlet dealCount = -1;// 游戏时点击发牌处的发牌索引\r\nlet doneCount = -1;// 表示集满牌副数\r\nexport default {\r\n  name: 'contentCard',\r\n  props: {\r\n    viewport: {type: Object},\r\n    momentCard: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          turn: false,// 是否能点击翻转\r\n        }\r\n      }\r\n    },\r\n    start: {type: Boolean},\r\n    over: {type: Boolean, default: false},\r\n    dealStart: {typr: Boolean, default: false}\r\n  },\r\n  components: {\r\n    card,\r\n    fixedBox\r\n  },\r\n  data () {\r\n    return {\r\n      listCards: [[],[],[],[],[],[],[],[],[],[]],// 保存面板上的牌的数据\r\n      index: 0,// 用于触发computed,每次父组件传进数据computed都更新index，防止父组件传进相同数据不会触发computed\r\n      listPlace: [[],[],[],[],[],[],[],[],[],[]],// 每列的边界位置数据，用于分辨准心处在哪列上\r\n      moveTime: false,// 牌是否可移动\r\n      x0: 0,\r\n      y0: 0,\r\n      x1: 0,\r\n      y1: 0,\r\n      moveCard: {newEl: null, box: null, boxZero: false, time: null},\r\n      lightShow: false,\r\n      stepCount: 0\r\n    }\r\n  },\r\n  computed: {\r\n    pushCard () {\r\n      if (this.dealStart) {// 监听游戏时发牌的传入数据并保存数据\r\n        if (!this.moveTime) {// 移动牌时不触发\r\n          this.index = this.momentCard.index;\r\n          let obj = {\r\n            value: this.momentCard.value,\r\n            turn: this.momentCard.turn\r\n          }\r\n          this.listCards[(dealCount + 1) % 10].push(obj);\r\n          dealCount++;\r\n          return this.listCards;\r\n        }\r\n      }\r\n      if (!this.start) {// 监听初始发牌的传入数据并保存数据\r\n        this.index = this.momentCard.index;// 保证每次传进数据时都能被调用\r\n        let obj = {// 不直接push传入的对象是因为会出bug，解决所有牌的数据会被更改为最后一张牌的数据\r\n          value: this.momentCard.value,\r\n          turn: this.momentCard.turn\r\n        }\r\n        this.listCards[(startCount + 1) % 10].push(obj);\r\n        startCount++;\r\n        return this.listCards;\r\n      } else {// 移动牌时触发，不做更改\r\n        return this.listCards;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    move (index, list, listIndex) {// 移动牌函数\r\n      if (this.start && !this.dealStart && !this.over) {// 发牌时不触发点击效果\r\n        this.moveTime = getMoveTime(list, index);// 判断被点击的牌是否能移动\r\n        let e = event || window.event;\r\n        e.returnValue = false || e.preventDefault();\r\n        [this.x0, this.y0] = [e.clientX, e.clientY];\r\n        let item = this.$refs.content.querySelectorAll(\".card-list\")[listIndex].querySelectorAll(\".card-item\");// 整个函数item不可更改\r\n        let cardsList = this.$refs.content.querySelectorAll(\".card-list\");// 整个函数item不可更改\r\n\r\n        if (this.moveTime) {\r\n          let ifcover = false;\r\n          for (let i = index; i < list.length; i++) {// 判断被移动的牌是否存在盖上的，有则不能移动\r\n            if (list[i].turn == false) {\r\n              ifcover = true;\r\n            }\r\n          }\r\n          if (!ifcover) {\r\n            document.onmousemove = (e) => {\r\n              [this.x1, this.y1] = [e.clientX, e.clientY];// 移动前记录初始坐标\r\n              let [X, Y] = [this.x1 - this.x0, this.y1 - this.y0];\r\n              [this.x0, this.y0] = [this.x1, this.y1];\r\n              \r\n              for (let i = index; i < item.length; i++) {\r\n                item[i].style.transition = 'none';// 去除过渡效果\r\n                item[i].style.zIndex = '50';// 防止被后列的牌遮挡\r\n                item[i].style.left = X + item[i].offsetLeft + 'px';\r\n                item[i].style.top = Y + item[i].offsetTop + 'px';\r\n              }\r\n\r\n              document.onmouseup = (e) => {// 重置每列最后一张牌是否能被点击翻转，放置被移动的牌;经过move后的up\r\n\r\n                this.stepCount++;\r\n                this.$emit('step', this.stepCount);// 增加移动步数，并传值到父组件\r\n\r\n\r\n                let placeTrue = false;// 放置是否成功\r\n                let aimPoint = item[index].offsetLeft + item[index].offsetWidth / 2;// 设置准心，被移动的牌的中心\r\n\r\n                for (let i = 0; i < this.listPlace.length; i++) {// 更新数据\r\n                  if (aimPoint >= this.listPlace[i][0] && aimPoint <= this.listPlace[i][1]) {// 准心移到列边界内\r\n                  \r\n                    if (this.listCards[i].length == 0) {// 该列没牌\r\n                      let count = item.length;\r\n                      let pushMoveCard = setInterval(() => {\r\n                        let itemValue = this.listCards[listIndex][index];\r\n                        this.listCards[i].push(itemValue);// 将数据放进新的列\r\n                        this.listCards[listIndex].splice(index,1);// 删掉原来列的数据\r\n\r\n                        this.$nextTick(() => {\r\n                          let elList = cardsList[i].querySelectorAll(\".card-item\");\r\n                          let box = cardsList[i].querySelector(\".contentBox\");\r\n                          this.moveCard.time = new Date();// 保证每次push的对象都不同，让watch监听到\r\n                          this.moveCard.newEl = elList[elList.length-1];\r\n                          if (elList.length == 1) {// 已经push进了一个数据，所以长度至少为1\r\n                            this.moveCard.boxZero = true;// 表示该列没牌，以底框为标准\r\n                            this.moveCard.box = box;\r\n                          } else {\r\n                            this.moveCard.boxZero = false;\r\n                            this.moveCard.box = elList[elList.length-2];\r\n                          }\r\n                        });\r\n                        count--;\r\n                        if (count == index) {\r\n                          clearInterval(pushMoveCard);\r\n                        }\r\n                      }, 2);// 延迟改变被移动牌组的各个牌的数据，每张牌数据都被检测到，不加所有数据都变成最后一张牌的\r\n\r\n                    } else {// 该列有牌\r\n                      let itemValue = this.listCards[listIndex][index];\r\n                      if (i == listIndex) {// 移动到自己原本这列\r\n                        let count = item.length;\r\n                        let oldIndex = index;// 因为移到原本列，长度没有减少，而每次push和splice的索引要固定\r\n                        let pushMoveCard = setInterval(() => {\r\n                          let itemValue = this.listCards[listIndex][oldIndex];\r\n                          this.listCards[i].push(itemValue);\r\n                          this.listCards[listIndex].splice(oldIndex,1);\r\n\r\n                          this.$nextTick(() => {\r\n                            let elList = cardsList[listIndex].querySelectorAll(\".card-item\");\r\n                            let box = cardsList[listIndex].querySelector(\".contentBox\");\r\n                            this.moveCard.time = new Date();\r\n                            if (!elList[index-2]) {// 移动自己这列所有的牌---(*****)\r\n                              this.moveCard.boxZero = true;\r\n                              this.moveCard.newEl = elList[oldIndex];\r\n                              this.moveCard.box = box;\r\n                            } else {\r\n                              this.moveCard.boxZero = false;\r\n                              this.moveCard.newEl = elList[index-1];// 对应（*）\r\n                              this.moveCard.box = elList[index-2];// 对应（*）\r\n                            }\r\n                          });\r\n                          index++;// 数据改变后，长度+1，index++才能取到下一张;这里会先于（*****）执行，所以到（*****）时index为2 ----（*）\r\n                          if (count == index) {\r\n                            clearInterval(pushMoveCard);\r\n                          }\r\n                        }, 2);\r\n\r\n                      } else {// 移动到其他列\r\n                        let lastItemValue = this.listCards[i][this.listCards[i].length-1];\r\n\r\n                        if (getLastItemValue(lastItemValue.value) == getLastItemValue(itemValue.value) + 1 && lastItemValue.turn) {// 符合条件，放置到该列\r\n                          let count = item.length;\r\n                          let pushMoveCard = setInterval(() => {\r\n                            let itemValue = this.listCards[listIndex][index];\r\n                            this.listCards[i].push(itemValue);\r\n                            this.listCards[listIndex].splice(index,1);\r\n\r\n                            this.$nextTick(() => {\r\n                              let elList = cardsList[i].querySelectorAll(\".card-item\");\r\n                              this.moveCard.time = new Date();\r\n                              this.moveCard.newEl = elList[elList.length-1];\r\n                              this.moveCard.box = elList[elList.length-2];\r\n                              this.moveCard.boxZero = false;\r\n                            });\r\n                            count--;\r\n                            if (count == index) {\r\n                              clearInterval(pushMoveCard);\r\n                            }\r\n                          }, 2);\r\n\r\n                        } else {// 不符合条件，回到原来的列\r\n                          let count = item.length;\r\n                          let oldIndex = index;\r\n                          let pushMoveCard = setInterval(() => {\r\n                            let itemValue = this.listCards[listIndex][oldIndex];\r\n                            this.listCards[listIndex].push(itemValue);\r\n                            this.listCards[listIndex].splice(oldIndex,1);\r\n\r\n                            this.$nextTick(() => {\r\n                              let elList = cardsList[listIndex].querySelectorAll(\".card-item\");\r\n                              let box = cardsList[listIndex].querySelector(\".contentBox\");\r\n                              this.moveCard.time = new Date();\r\n                              if (!elList[index-2]) {\r\n                                this.moveCard.boxZero = true;\r\n                                this.moveCard.newEl = elList[oldIndex];\r\n                                this.moveCard.box = box;\r\n                              } else {\r\n                                this.moveCard.boxZero = false;\r\n                                this.moveCard.newEl = elList[index-1];\r\n                                this.moveCard.box = elList[index-2];\r\n                              }\r\n                            });\r\n                            index++;\r\n                            if (count == index) {\r\n                              clearInterval(pushMoveCard);\r\n                            }\r\n                          }, 2);\r\n                        }\r\n                      }\r\n                    }\r\n                    placeTrue = true;// 放置成功\r\n                    break;\r\n\r\n                  }\r\n                }\r\n                if (!placeTrue) {// 放置不成功,即准心没在任何列上，则回到原来的位置\r\n                  let count = item.length;\r\n                  let oldIndex = index;\r\n                  let pushMoveCard = setInterval(() => {\r\n                    let itemValue = this.listCards[listIndex][oldIndex];\r\n                            \r\n                    this.listCards[listIndex].push(itemValue);\r\n                    this.listCards[listIndex].splice(oldIndex,1);\r\n                    this.$nextTick(() => {// （*****）\r\n                      let elList = cardsList[listIndex].querySelectorAll(\".card-item\");\r\n                      let box = cardsList[listIndex].querySelector(\".contentBox\");\r\n                      this.moveCard.time = new Date();\r\n                      if (!elList[index-2]) {// index会先++，所以fixedBox为0，所以index要-2\r\n                        this.moveCard.boxZero = true;\r\n                        this.moveCard.newEl = elList[oldIndex];\r\n                        this.moveCard.box = box;\r\n                      } else {\r\n                        this.moveCard.boxZero = false;\r\n                        this.moveCard.newEl = elList[index-1];\r\n                        this.moveCard.box = elList[index-2];\r\n                      }\r\n                    });\r\n                    index++;// 这里会先于（*****）执行，\r\n                    if (count == index) {\r\n                      clearInterval(pushMoveCard);\r\n                    }\r\n                  }, 2);\r\n                }\r\n\r\n                for (let i = index; i < item.length; i++) {\r\n                  setTimeout(() => {\r\n                    item[i].style.zIndex = '10';// 重置被移动的牌的重叠权重\r\n                  }, 100);// 延迟0.1秒，防止放置过程被该列原牌遮挡\r\n                }\r\n\r\n                setTimeout(() => {// 延迟重置moveTime，防止触发非移动时监听数据变化的watch，这里用this.$nextTick不行\r\n                  this.moveTime = false;\r\n                }, 20);\r\n                \r\n                document.onmousemove = null;\r\n                document.onmouseup = null;\r\n              }\r\n            }\r\n          }\r\n          \r\n          document.onmouseup = () => {// 未经过move后的up，即翻转牌\r\n            this.moveTime = false;\r\n            if (index == list.length - 1) {\r\n              this.listCards[listIndex][index].turn = true;\r\n            }\r\n            document.onmousemove = null;// 重置鼠标事件\r\n            document.onmouseup = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  updated () {\r\n    if (this.start && !this.dealStart) {// 发牌时不触发\r\n      for (let i = 0; i < this.listCards.length; i++) {// 检测是否集满一副牌\r\n        let item = this.listCards[i];\r\n        for (let j = 0; j < item.length; j++) {\r\n          if (item[j].value == 'K' && item[j].turn) {\r\n            let ifdone = ifDone(item, j, item.length);\r\n            if (ifdone) {// 表示集满\r\n              let item = this.$refs.content.querySelectorAll(\".card-list\")[i].querySelectorAll(\".card-item\");\r\n              let count = j + 12;\r\n              let pushDone = setInterval(() => {// 将集满的那组牌从下到上位置逐个传给父组件\r\n                let doneCardLeft = item[count].offsetLeft;\r\n                let doneCardTop = item[count].offsetTop;\r\n                this.$emit('done', doneCardLeft, doneCardTop, doneCount);\r\n                this.listCards[i].splice(count,1);// 从下到上逐个删掉\r\n                if (count == j) {\r\n                  clearInterval(pushDone);\r\n                }\r\n                count--;\r\n              }, 100);// 0.1秒传一个\r\n              console.log('---------集满第'+doneCount+'组');\r\n              doneCount++;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      let box = this.$refs.content.querySelectorAll(\".contentBox\");\r\n      for (let i = 0; i < box.length; i++) {\r\n        this.listPlace[i][0] = box[i].offsetLeft;\r\n        this.listPlace[i][1] = box[i].offsetLeft + box[i].offsetWidth;\r\n      }\r\n    });// 拿到每列的边界数据\r\n   \r\n  },\r\n  watch: {\r\n    listCards: function () {// 监听存牌数据的变化\r\n      if (!this.moveTime) {// 可拖动时则不触发\r\n        let lists = this.$refs.content.querySelectorAll(\".card-list\");\r\n        let box = this.$refs.content.querySelectorAll(\".contentBox\");\r\n        if (!this.start) {// 初始发牌时设置牌的位置\r\n          let [oldEl, newEl, oldIndex, newIndex] = getEl(lists, startCount);\r\n          cardsPlace(\r\n            oldEl,\r\n            oldIndex,\r\n            newEl,\r\n            newIndex,\r\n            startCount,\r\n            box[(startCount - 1) % 10],\r\n            box[startCount % 10],\r\n            this.momentCard.initialPoint,\r\n            this.start\r\n          );\r\n        } \r\n        if (this.dealStart) {// 游戏时发牌设置牌的位置\r\n          let [oldEl, newEl, oldIndex, newIndex] = getEl(lists, dealCount % 10);\r\n          cardsPlace(\r\n            oldEl,\r\n            oldIndex,\r\n            newEl,\r\n            newIndex,\r\n            dealCount % 10,\r\n            box[(dealCount - 1) % 10],\r\n            box[dealCount % 10],\r\n            this.momentCard.initialPoint,\r\n            this.start\r\n          );\r\n        }\r\n      }\r\n    },\r\n    immediate: true,\r\n    deep: true,\r\n    start: function () {// 监听是否完成初始发牌\r\n      if (this.start) {\r\n        let count = 9;\r\n        let startTurn = setInterval(() => {\r\n          let list = this.listCards[count];\r\n          list[list.length - 1].turn = true;// 翻转每列牌的最后一张\r\n          if (count == 0) {\r\n            clearTimeout(startTurn);\r\n          }\r\n          count--;\r\n        }, 200);// 每0.2秒翻转一张牌\r\n      }\r\n    },\r\n    'moveCard.time': function () {// 监听牌移动后moveCard数据的变化\r\n      this.$nextTick(() => {\r\n        moveCardPlace (this.moveCard.newEl, this.moveCard.box, this.moveCard.boxZero);// 调整移动牌后的位置\r\n      })\r\n    },\r\n    deep: true,\r\n    immediate: true\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  .content-wrapper\r\n    display: flex\r\n    justify-content: space-between\r\n    .card-list\r\n      display: inline-block\r\n      flex: 0\r\n      .card-item\r\n        position: absolute\r\n        display: block\r\n        z-index: 10\r\n        vertical-align: top\r\n        transition: all 0.3s linear\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/content-card/contentCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{ref:\"content\",staticClass:\"content-wrapper\"},_vm._l((10),function(list,index){return _c('li',{key:index,staticClass:\"card-list\"},[_c('fixedBox',{staticClass:\"contentBox\",attrs:{\"viewport\":_vm.viewport}}),_vm._v(\" \"),_c('ul',_vm._l((_vm.pushCard[list-1]),function(item,index){return _c('li',{key:index,staticClass:\"card-item\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.move(index, _vm.pushCard[list-1], list-1)}}},[_c('card',{attrs:{\"viewport\":_vm.viewport,\"action\":item,\"lightShow\":_vm.lightShow}})],1)}),0)],1)}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-016ecb87\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/content-card/contentCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-016ecb87\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./contentCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./contentCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./contentCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-016ecb87\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./contentCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-016ecb87\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/content-card/contentCard.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"contentRight\">\r\n    <div class=\"time\" ref=\"time\">\r\n      <div class=\"text\">\r\n        <p>剩 余 时 间</p><span>{{getTime}} 秒</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"score\" ref=\"score\">\r\n      <div class=\"text\">\r\n        <p>移 动 步 数</p><span>{{getStep}} 步</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'contentRight',\r\n  props: {\r\n    viewport: {type: Object},\r\n    start: {type: Boolean},\r\n    over: {type: Boolean},\r\n    step: {type: Number}\r\n  },\r\n  data () {\r\n    return {\r\n      time: 600\r\n    }\r\n  },\r\n  computed: {\r\n    getTime () {\r\n      if (this.time == 0) {\r\n        this.$nextTick(() => {\r\n          this.$emit('gameOver');\r\n        });\r\n      }\r\n      return this.time;\r\n    },\r\n    getStep () {\r\n      return this.step;\r\n    }\r\n  },\r\n  mounted () {\r\n    let crWidth = (this.viewport.windowWidth - this.viewport.windowWidth * 0.06) * 0.3;\r\n\r\n    this.$refs.time.style.height = crWidth * 0.55 + 'px';\r\n    this.$refs.time.style.marginBottom = crWidth * 0.02 + 'px';\r\n\r\n    this.$refs.time.querySelector(\".text\").style.lineHeight = crWidth * 0.55 / 3 + 'px';\r\n    this.$refs.time.querySelector(\".text\").style.fontSize = crWidth * 0.1 + 'px';\r\n    this.$refs.time.querySelector(\".text\").style.marginTop = crWidth * 0.55 / 6 + 'px';\r\n\r\n    this.$refs.score.style.height = crWidth * 0.55 + 'px';\r\n\r\n    this.$refs.score.querySelector(\".text\").style.lineHeight = crWidth * 0.55 / 3 + 'px';\r\n    this.$refs.score.querySelector(\".text\").style.fontSize = crWidth * 0.1 + 'px';\r\n    this.$refs.score.querySelector(\".text\").style.marginTop = crWidth * 0.55 / 6 + 'px';\r\n  },\r\n  watch: {\r\n    start: function () {\r\n      if (this.over) {// 时间到游戏结束\r\n        this.$emit('pushTime', this.time);\r\n        clearInterval(timeGo);\r\n      }\r\n      if (this.start) {\r\n        let timeGo = setInterval(() => {\r\n          this.time--;\r\n          if (this.time == 0) {\r\n            clearInterval(timeGo);\r\n          }\r\n        }, 1000);// 计时\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  .contentRight\r\n    font-size: 0\r\n    .time\r\n      width: 100%\r\n      border: 1px solid #000\r\n      border-radius: 20px\r\n      text-align: center\r\n    .score\r\n      width: 100%\r\n      border: 1px solid #000\r\n      border-radius: 20px\r\n      text-align: center\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/content-right/contentRight.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentRight\"},[_c('div',{ref:\"time\",staticClass:\"time\"},[_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(\"剩 余 时 间\")]),_c('span',[_vm._v(_vm._s(_vm.getTime)+\" 秒\")])])]),_vm._v(\" \"),_c('div',{ref:\"score\",staticClass:\"score\"},[_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(\"移 动 步 数\")]),_c('span',[_vm._v(_vm._s(_vm.getStep)+\" 步\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05f9876c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/content-right/contentRight.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05f9876c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./contentRight.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./contentRight.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./contentRight.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05f9876c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./contentRight.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/content-right/contentRight.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <div class=\"content-left\" ref=\"left\">\n      <div class=\"header-wrapper\">\n        <div class=\"deal-wrapper\">\n          <card class=\"start-card\" :viewport=\"viewport\" :action=\"{value: ''}\" v-if=\"!unfold\" />\n          <dealCard\n            :viewport=\"viewport\"\n            :start=\"start\"\n            :unfold=\"unfold\"\n            :dealListNum=\"dealListNum\"\n            @deal=\"deal\"\n          />\n        </div>\n        <doneCard\n          :viewport=\"viewport\"\n          :start=\"start\"\n          :over=\"over\"\n          :doneCard=\"doneCard\"\n          :step=\"step\"\n          :time=\"time\"\n          @gameWin=\"gameWin\"\n        />\n      </div>\n      <contentCard\n        :viewport=\"viewport\"\n        :momentCard=\"momentCard\"\n        :start=\"start\" :over=\"over\"\n        :dealStart=\"dealStart\" \n        @done=\"donePush\"\n        @step=\"pushStep\"\n        />\n    </div>\n    <div class=\"content-right\">\n      <contentRight\n        :viewport=\"viewport\"\n        :start=\"start\"\n        :step=\"step\"\n        @gameOver=\"gameOver\"\n        @pushTime=\"pushTime\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport card from './components/card/card';\nimport fixedBox from './components/fixed-box/fixedBox';\nimport dealCard from './components/deal-card/dealCard';\nimport doneCard from './components/done-card/doneCard';\nimport contentCard from './components/content-card/contentCard';\nimport contentRight from './components/content-right/contentRight';\nlet allCount = 103;// 牌的总张数\nexport default {\n  name: 'App',\n  components: {\n    card,\n    fixedBox,\n    dealCard,\n    doneCard,\n    contentCard,\n    contentRight\n  },\n  data () {\n    return {\n      viewport: {\n        windowWidth: 0,// 视窗宽度\n        cWidth: 0// 左面板宽度\n      },\n      cardsData: [// 所有牌的数据\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K',\n        'A','2','3','4','5','6','7','8','9','10','J','Q','K'\n      ],\n      dealListCardsData: [[],[],[],[],[]],// 发牌处的数据存放处\n      dealListNum: 5,// 发牌处的张数\n      doneCard: {doneLeft: 0, doneTop: 0, doneCount: 0, value: '???', turn: true},\n      momentCard: {value: '', initialPoint: null, turn: false, index: 0},// 发牌时的时时数据，并传递给子组件\n      unfold: false,// 初始时折叠发牌处的5张牌\n      start: false,// 初始发牌时为false，发完牌时变为true，作为开始游戏的开关\n      over: false,// 结束时的开关 \n      dealStart: false,// 点击发牌时变为true\n      step: 0,\n      time: 0\n    }\n  },\n  created () {\n    this.viewport.cHeight = window.innerHeight ||// 获取视窗的高宽\n      document.documentElement.clientHeight ||\n      document.body.clientHeight;\n    this.viewport.windowWidth = window.innerWidth||\n      document.documentElement.clientWidth ||\n      document.body.clientWidth;\n    this.viewport.cWidth = (this.viewport.windowWidth - this.viewport.windowWidth * 0.06) * 0.7;\n\n    let start_card = document.querySelector(\".start-card\");// 传递第一张牌的数据，放在created里是为了防止子组件渲染第一个没数据的dom\n    let num = Math.round(Math.random() * allCount);\n    this.momentCard.value = this.cardsData[num];\n    this.momentCard.initialPoint = start_card;\n    this.momentCard.index = allCount;\n    allCount--;\n    this.cardsData.splice(num,1);\n  },\n  mounted () {\n    alert(\"点击开始游戏！\");// 游戏开始前弹窗\n    document.getElementById(\"app\").style.margin = this.viewport.windowWidth * 0.02 + 'px';// 拿到视窗宽度并设置元素宽高\n    let hw = document.querySelector(\".header-wrapper\");\n    let left = document.querySelector(\".content-left\");\n\n    this.$refs.left.style.width = this.viewport.cWidth + 'px';\n    this.$refs.left.style.marginRight = this.viewport.windowWidth * 0.02 + 'px';\n\n    hw.style.height = this.viewport.cWidth * 0.08 / 0.618 + 2 + 'px';\n    hw.style.width = this.viewport.cWidth + 'px';\n    hw.style.marginBottom = this.viewport.cWidth * 0.06 + 'px';\n\n    let start_card = document.querySelector(\".start-card\");// 初始发牌传递数据，一共54张\n    let count = 0;\n    let dealCardsStart = setInterval(() => {\n      if (count == 52) {// 在created里发了第一张，所以这里发53张\n        clearInterval(dealCardsStart);\n      }\n      let num = Math.round(Math.random() * allCount);\n      this.momentCard.value = this.cardsData[num];\n      this.momentCard.initialPoint = start_card;\n      this.momentCard.index = allCount;\n      this.cardsData.splice(num,1);\n      allCount--;\n      count++;\n      if (count == 53) {// 发完牌，初始化发牌处的5张牌的数据\n        this.unfold = true;\n        this.$nextTick(() => {// dom渲染完成后改变，不然初始发牌会少发两张\n          this.start = true;\n        });\n        for (let i = 0; i < this.dealListCardsData.length; i++) {\n          let count = 0;\n          while (count < 10) {\n            let num = Math.round(Math.random() * allCount)\n            this.dealListCardsData[i].push(this.cardsData[num]);\n            this.cardsData.splice(num,1);\n            allCount--;\n            count ++;\n          }\n        }\n      }\n    }, 100);// 初始发牌每0.1秒发一张\n  },\n  methods: {\n    deal (e) {// 点击发牌处的牌开始发牌，传递数据\n      let listCount = 9;\n      let deal = setInterval(() => {\n        let num = Math.round(Math.random() * listCount);\n        // let num = listCount;\n        this.momentCard.value = this.dealListCardsData[0][num];\n        this.momentCard.initialPoint = e;\n        this.momentCard.turn = true;\n        this.momentCard.index = --allCount;\n        this.dealListCardsData[0].splice(num,1);\n        if (listCount == 0) {\n          this.dealListCardsData.splice(0,1);\n            setTimeout(() => {\n              this.dealListNum--;\n              this.dealStart = false;// 重置发牌开关\n            }, 200);// 延迟更改发牌处牌的张数，延迟渲染dom，过渡画面更连贯\n          clearInterval(deal);\n        }\n        listCount--;\n      }, 100);// 发牌每0.1秒发一张\n      setTimeout(() => {\n        this.dealStart = true;\n      }, 100);// 延迟开始，不然第一次数据传不过去\n    },\n    donePush (elLeft, elTop, doneCount) {// 将集满一副牌的牌位置传给子组件，完成动画效果\n      this.doneCard.doneLeft = elLeft;\n      this.doneCard.doneTop = elTop;\n      this.doneCard.doneCount = doneCount;\n      this.doneCard.value = 'H';\n    },\n    gameWin () {// 游戏胜利，计时停止\n      this.over = true;\n    },\n    gameOver () {// 时间到游戏失败\n      this.over = true;\n      let again = confirm('时间到，游戏失败！再来一局吧~');\n      if (again) {\n        location.reload();\n      }\n    },\n    pushStep (count) {// 将移动步数传给右面板子组件\n      this.step = count;\n    },\n    pushTime (time) {\n      this.time = time;\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  body\n    background-color: rgb(220,80,80)\n    #app\n      position: relative\n      display: flex\n      font-size: 0\n      .content-left\n        flex: 0\n        .header-wrapper\n          .deal-wrapper\n            float: left\n            .start-card\n              position: absolute\n              left: 0\n              top: 0\n      .content-right\n        flex: 1\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"left\",staticClass:\"content-left\"},[_c('div',{staticClass:\"header-wrapper\"},[_c('div',{staticClass:\"deal-wrapper\"},[(!_vm.unfold)?_c('card',{staticClass:\"start-card\",attrs:{\"viewport\":_vm.viewport,\"action\":{value: ''}}}):_vm._e(),_vm._v(\" \"),_c('dealCard',{attrs:{\"viewport\":_vm.viewport,\"start\":_vm.start,\"unfold\":_vm.unfold,\"dealListNum\":_vm.dealListNum},on:{\"deal\":_vm.deal}})],1),_vm._v(\" \"),_c('doneCard',{attrs:{\"viewport\":_vm.viewport,\"start\":_vm.start,\"over\":_vm.over,\"doneCard\":_vm.doneCard,\"step\":_vm.step,\"time\":_vm.time},on:{\"gameWin\":_vm.gameWin}})],1),_vm._v(\" \"),_c('contentCard',{attrs:{\"viewport\":_vm.viewport,\"momentCard\":_vm.momentCard,\"start\":_vm.start,\"over\":_vm.over,\"dealStart\":_vm.dealStart},on:{\"done\":_vm.donePush,\"step\":_vm.pushStep}})],1),_vm._v(\" \"),_c('div',{staticClass:\"content-right\"},[_c('contentRight',{attrs:{\"viewport\":_vm.viewport,\"start\":_vm.start,\"step\":_vm.step},on:{\"gameOver\":_vm.gameOver,\"pushTime\":_vm.pushTime}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b430114\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b430114\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b430114\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}